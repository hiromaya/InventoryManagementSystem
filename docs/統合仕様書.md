# åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º çµ±åˆä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0  
**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ16æ—¥  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹**: `../`

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

é£Ÿå“è²©å£²æ¥­å‘ã‘ã®åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’é–‹ç™ºã—ã¾ã™ã€‚è²©å£²å¤§è‡£AXã®å¤–ä»˜ã‘ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã€æ—¥ã€…ã®åœ¨åº«å‡¦ç†æ™‚é–“ã‚’**3æ™‚é–“55åˆ†ã‹ã‚‰30åˆ†ã«çŸ­ç¸®**ã™ã‚‹ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **è¨€èª**: C# (.NET 8.0)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQL Server 2022 Express
- **å¸³ç¥¨**: FastReport.NET Version 2024.1.3ï¼ˆæ­£å¼ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å–å¾—æ¸ˆã¿ï¼‰
- **é–‹ç™ºç’°å¢ƒ**: Visual Studio Code / Cursor
- **å®Ÿè¡Œç’°å¢ƒ**: Windows Server 2022
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
InventoryManagementSystem/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ InventorySystem.Core/        # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ InventorySystem.Data/        # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”œâ”€â”€ InventorySystem.Import/      # CSVå–è¾¼å‡¦ç†
â”‚   â”œâ”€â”€ InventorySystem.Reports/     # å¸³ç¥¨ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ FastReport/              # FastReportå®Ÿè£…
â”‚   â”‚   â”‚   â”œâ”€â”€ Interfaces/          # å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ Services/            # FastReportã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”‚   â””â”€â”€ Templates/           # ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Interfaces/              # å¸³ç¥¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â””â”€â”€ Services/                # ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®Ÿè£…
â”‚   â””â”€â”€ InventorySystem.Console/     # ãƒãƒƒãƒå‡¦ç†
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ schema/                      # ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ procedures/                  # ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£
â”‚   â”œâ”€â”€ functions/                   # ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©é–¢æ•°
â”‚   â””â”€â”€ migration/                   # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ data/                           # ãƒ‡ãƒ¼ã‚¿æ ¼ç´ç”¨
â”‚   â”œâ”€â”€ import/                     # CSVå–è¾¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ backup/                     # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
â”‚   â””â”€â”€ reports/                    # å¸³ç¥¨å‡ºåŠ›
â””â”€â”€ tests/                          # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
```

## ğŸ”‘ æ ¸å¿ƒä»•æ§˜ - 3ã¤ã®åœ¨åº«ãƒã‚¹ã‚¿

### åœ¨åº«ãƒã‚¹ã‚¿ã®ç¨®é¡ã¨å½¹å‰²

| åœ¨åº«ãƒã‚¹ã‚¿ç¨®åˆ¥ | ãƒ†ãƒ¼ãƒ–ãƒ«å | ç”¨é€” | ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚° | å‰Šé™¤ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç† |
|---------------|------------|------|----------------|----------------|----------------|
| **åœ¨åº«ãƒã‚¹ã‚¿** | InventoryMaster | å®Ÿåœ¨åº«ã®åŸæœ¬ç®¡ç† | åˆæœŸæ§‹ç¯‰æ™‚ | ãªã—ï¼ˆæ°¸ç¶šï¼‰ | DataSetIDã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆç®¡ç† |
| **UNåœ¨åº«ãƒã‚¹ã‚¿** | UnInventoryMaster | ã‚¢ãƒ³ãƒãƒƒãƒãƒã‚§ãƒƒã‚¯å°‚ç”¨ | ã‚¢ãƒ³ãƒãƒƒãƒãƒªã‚¹ãƒˆå®Ÿè¡Œæ™‚ | ãƒ»å®Ÿè¡Œæ™‚ã«æ—¢å­˜å‰Šé™¤<br>ãƒ»æ—¥æ¬¡çµ‚äº†æ™‚ | ãªã—ï¼ˆä½¿ã„æ¨ã¦ï¼‰ |
| **CPåœ¨åº«ãƒã‚¹ã‚¿** | CpInventoryMaster | å¸³ç¥¨ä½œæˆç”¨ | å•†å“å‹˜å®šä½œæˆæ™‚ | ãƒ»å®Ÿè¡Œæ™‚ã«æ—¢å­˜å‰Šé™¤<br>ãƒ»æ—¥æ¬¡çµ‚äº†æ™‚ | ãªã—ï¼ˆä½¿ã„æ¨ã¦ï¼‰ |

### 5é …ç›®è¤‡åˆã‚­ãƒ¼ï¼ˆæœ€é‡è¦ï¼‰

```csharp
public class InventoryKey
{
    public string ProductCode { get; set; }       // å•†å“ã‚³ãƒ¼ãƒ‰ï¼ˆ5æ¡ï¼‰
    public string GradeCode { get; set; }         // ç­‰ç´šã‚³ãƒ¼ãƒ‰ï¼ˆ3æ¡ï¼‰  
    public string ClassCode { get; set; }         // éšç´šã‚³ãƒ¼ãƒ‰ï¼ˆ3æ¡ï¼‰
    public string ShippingMarkCode { get; set; }  // è·å°ã‚³ãƒ¼ãƒ‰ï¼ˆ4æ¡ï¼‰
    public string ShippingMarkName { get; set; }  // è·å°åï¼ˆ8æ¡å›ºå®šï¼‰
}
```

**é‡è¦**: è·å°åã¯ä¼ç¥¨ã®æ‰‹å…¥åŠ›é …ç›®ã‹ã‚‰å–å¾—
- å£²ä¸Šä¼ç¥¨: 155åˆ—ç›®ï¼ˆIndex=154ï¼‰
- ä»•å…¥ä¼ç¥¨: 147åˆ—ç›®ï¼ˆIndex=146ï¼‰  
- åœ¨åº«èª¿æ•´: 153åˆ—ç›®ï¼ˆIndex=152ï¼‰

```csharp
// è·å°åã®å‡¦ç†ï¼ˆ8æ¡å›ºå®šï¼‰
ShippingMarkName = (HandInputItem ?? "").PadRight(8).Substring(0, 8);
```

### JobDateï¼ˆæ±ç”¨æ—¥ä»˜2ï¼‰ã®é‡è¦æ€§

- **å®šç¾©**: è²©å£²å¤§è‡£AXã§å®Ÿéš›ã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿å…¥åŠ›æ“ä½œã‚’è¡Œã£ãŸæ—¥ä»˜
- **é‡è¦æ€§**: å…¨ã¦ã®å‡¦ç†ã®åŸºæº–æ—¥ï¼ˆä¼ç¥¨æ—¥ä»˜ã§ã¯ãªã„ï¼‰
- **ãƒ«ãƒ¼ãƒ«**: çµ¶å¯¾ã«æ”¹å¤‰ã—ãªã„ã€CSVã®å€¤ã‚’ãã®ã¾ã¾ä½¿ç”¨

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼

### å…¨ä½“å‡¦ç†ãƒ•ãƒ­ãƒ¼

```mermaid
graph TD
    A[ä¼ç¥¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ] --> B[åœ¨åº«ãƒã‚¹ã‚¿æ›´æ–°]
    B --> C[ã‚¢ãƒ³ãƒãƒƒãƒãƒã‚§ãƒƒã‚¯]
    C --> D[UNåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆ]
    D --> E{ã‚¨ãƒ©ãƒ¼æ¤œå‡º}
    E -->|ã‚¨ãƒ©ãƒ¼ã‚ã‚Š| F[ä¼ç¥¨ä¿®æ­£]
    F --> A
    E -->|ã‚¨ãƒ©ãƒ¼ãªã—| G[å•†å“å‹˜å®šä½œæˆ]
    G --> H[CPåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆ]
    H --> I[å•†å“æ—¥å ±ä½œæˆ]
    I --> J[Process 2-5å®Ÿè¡Œ]
    J --> K[åœ¨åº«è¡¨ä½œæˆ]
    K --> L[å–¶æ¥­æ—¥å ±ä½œæˆ]
    L --> M[æ—¥æ¬¡çµ‚äº†å‡¦ç†]
    M --> N[UN/CPå‰Šé™¤]
```

### æ—¥æ¬¡é‹ç”¨ã‚³ãƒãƒ³ãƒ‰

```bash
# 1. ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
dotnet run -- import-folder DeptA 2025-06-30

# 2. ã‚¢ãƒ³ãƒãƒƒãƒãƒã‚§ãƒƒã‚¯
dotnet run -- unmatch-list 2025-06-30

# 3. å•†å“å‹˜å®šä½œæˆï¼ˆCPåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆï¼‰
dotnet run -- product-account 2025-06-30

# 4. å•†å“æ—¥å ±ä½œæˆï¼ˆProcess 2-5è‡ªå‹•å®Ÿè¡Œï¼‰
dotnet run -- daily-report 2025-06-30

# 5. åœ¨åº«è¡¨ä½œæˆ
dotnet run -- inventory-list 2025-06-30

# 6. å–¶æ¥­æ—¥å ±ä½œæˆ
dotnet run -- business-daily-report 2025-06-30

# 7. æ—¥æ¬¡çµ‚äº†å‡¦ç†
dotnet run -- daily-closing 2025-06-30
```

## ğŸ“¥ CSVå–è¾¼æ©Ÿèƒ½ï¼ˆimport-folderï¼‰

### CSVä»•æ§˜
- **æ–‡å­—ã‚³ãƒ¼ãƒ‰**: UTF-8 with BOM
- **åŒºåˆ‡ã‚Šæ–‡å­—**: ã‚«ãƒ³ãƒ
- **ãƒ˜ãƒƒãƒ€ãƒ¼**: ã‚ã‚Šï¼ˆ1è¡Œç›®ï¼‰
- **æ”¹è¡Œã‚³ãƒ¼ãƒ‰**: CRLF

### å–è¾¼å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ«ç¨®åˆ¥ | ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ã‚¿ãƒ¼ãƒ³ | é‡è¦åˆ— |
|------------|------------------|-------|
| å£²ä¸Šä¼ç¥¨ | å£²ä¸Šä¼ç¥¨_YYYYMMDD.csv | 155åˆ—ç›®:è·å°å |
| ä»•å…¥ä¼ç¥¨ | ä»•å…¥ä¼ç¥¨_YYYYMMDD.csv | 147åˆ—ç›®:è·å°å |
| åœ¨åº«èª¿æ•´ | å—æ³¨ä¼ç¥¨_YYYYMMDD.csv | 153åˆ—ç›®:è·å°å |
| å•†å“ãƒã‚¹ã‚¿ | å•†å“.csv | - |
| å¾—æ„å…ˆãƒã‚¹ã‚¿ | å¾—æ„å…ˆ.csv | - |
| ä»•å…¥å…ˆãƒã‚¹ã‚¿ | ä»•å…¥å…ˆ.csv | - |
| ç­‰ç´šãƒã‚¹ã‚¿ | ç­‰ç´šæ±ç”¨ãƒã‚¹ã‚¿ãƒ¼ï¼‘.csv | å…¨è§’æ•°å­—ä½¿ç”¨ |
| éšç´šãƒã‚¹ã‚¿ | éšç´šæ±ç”¨ãƒã‚¹ã‚¿ãƒ¼ï¼’.csv | å…¨è§’æ•°å­—ä½¿ç”¨ |
| è·å°ãƒã‚¹ã‚¿ | è·å°æ±ç”¨ãƒã‚¹ã‚¿ãƒ¼ï¼“.csv | å…¨è§’æ•°å­—ä½¿ç”¨ |

### é™¤å¤–ãƒ‡ãƒ¼ã‚¿æ¡ä»¶

```csharp
// å…±é€šé™¤å¤–æ¡ä»¶
if (productCode == "00000") continue;
if (customerCode == "00000") continue;  // å£²ä¸Šä¼ç¥¨
if (supplierCode == "00000") continue;  // ä»•å…¥ä¼ç¥¨

// ã‚¢ãƒ³ãƒãƒƒãƒãƒªã‚¹ãƒˆå°‚ç”¨é™¤å¤–
if (divisionCode == "2" || divisionCode == "5") continue;  // ã‚®ãƒ•ãƒˆçµŒè²»ã€åŠ å·¥è²»B
if (shippingMarkName.StartsWith("EXIT") || shippingMarkName.StartsWith("exit")) continue;
if (shippingMarkCode == "9900" || shippingMarkCode == "9910" || shippingMarkCode == "1353") continue;
```

### ãƒ‡ãƒ¼ã‚¿æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

```
D:\InventoryImport\
â”œâ”€â”€ DeptA\                        # éƒ¨é–€åˆ¥ãƒ•ã‚©ãƒ«ãƒ€
â”‚   â”œâ”€â”€ Import\                   # CSVå–è¾¼å…ˆï¼ˆç›£è¦–å¯¾è±¡ï¼‰
â”‚   â”œâ”€â”€ Processed\                # å‡¦ç†æ¸ˆã¿CSV
â”‚   â”‚   â””â”€â”€ 2025-06-26\          # YYYY-MM-DDå½¢å¼
â”‚   â””â”€â”€ Error\                    # ã‚¨ãƒ©ãƒ¼CSV
â””â”€â”€ Share\                        # å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€
    â””â”€â”€ AddonData\                # è²©å£²å¤§è‡£AXå‡ºåŠ›å…ˆ
```

## ğŸ“‹ ã‚¢ãƒ³ãƒãƒƒãƒãƒªã‚¹ãƒˆï¼ˆunmatch-listï¼‰

### ç›®çš„
**ã€Œæ˜ã‚‰ã‹ãªä¼ç¥¨å…¥åŠ›ãƒŸã‚¹ã‚’æ¤œå‡ºã—ã¦ãƒªã‚¹ãƒˆã«ã™ã‚‹ã€**

### å‡¦ç†ãƒ•ãƒ­ãƒ¼

```csharp
public async Task<UnmatchListResult> ExecuteAsync(DateTime jobDate)
{
    // 1. æ—¢å­˜UNåœ¨åº«ãƒã‚¹ã‚¿å‰Šé™¤
    await _unInventoryRepository.TruncateAsync();
    
    // 2. UNåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆï¼ˆå…¥è·ãƒ‡ãƒ¼ã‚¿ã®ã¿é›†è¨ˆï¼‰
    await CreateUnInventoryMasterAsync(jobDate);
    
    // 3. ã‚¢ãƒ³ãƒãƒƒãƒãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
    var unmatchData = await CheckUnmatchAsync(jobDate);
    
    // 4. FastReportã§PDFå‡ºåŠ›
    var pdf = await GeneratePdfAsync(unmatchData, jobDate);
    
    return new UnmatchListResult { 
        UnmatchCount = unmatchData.Count,
        PdfData = pdf 
    };
}
```

### å…¥è·ãƒ»å‡ºè·ã®åˆ¤å®š

```csharp
// å…¥è·ãƒ‡ãƒ¼ã‚¿ï¼ˆUNåœ¨åº«ãƒã‚¹ã‚¿ã«é›†è¨ˆï¼‰
bool IsIncomingData(VoucherType type, decimal quantity)
{
    return (type == VoucherType.Sales && quantity < 0) ||      // å£²ä¸Šè¿”å“
           (type == VoucherType.Purchase && quantity > 0) ||    // é€šå¸¸ä»•å…¥
           (type == VoucherType.Adjustment && quantity > 0);    // å…¥è·èª¿æ•´
}

// å‡ºè·ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¢ãƒ³ãƒãƒƒãƒãƒã‚§ãƒƒã‚¯å¯¾è±¡ï¼‰
bool IsOutgoingData(VoucherType type, decimal quantity)
{
    return (type == VoucherType.Sales && quantity > 0) ||      // é€šå¸¸å£²ä¸Š
           (type == VoucherType.Purchase && quantity < 0) ||    // ä»•å…¥è¿”å“
           (type == VoucherType.Adjustment && quantity < 0);    // å‡ºè·èª¿æ•´
}
```

### ã‚¨ãƒ©ãƒ¼åˆ¤å®š
- **E01**: åœ¨åº«ãƒã‚¹ã‚¿ç„¡ï¼ˆUNåœ¨åº«ãƒã‚¹ã‚¿ã«KeyãŒå­˜åœ¨ã—ãªã„ï¼‰
- **ãƒã‚¤ãƒŠã‚¹åœ¨åº«ã¯OK**ï¼ˆã‚¨ãƒ©ãƒ¼ã¨ã—ãªã„ï¼‰

## ğŸ’° Process 2-5ï¼ˆç²—åˆ©è¨ˆç®—å‡¦ç†ï¼‰

### å‡¦ç†æ¦‚è¦
å£²ä¸Šä¼ç¥¨ã¸ã®ç²—åˆ©ä»˜è¾¼ã¨CPåœ¨åº«ã¸ã®ç²—åˆ©é›†è¨ˆã€æ­©å¼•ãé¡è¨ˆç®—

### ç²—åˆ©è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

```csharp
// ç¬¬1æ®µéšï¼šåŸºæœ¬ç²—åˆ©è¨ˆç®—
public decimal CalculateGrossProfit(SalesVoucherDetail detail, decimal inventoryUnitPrice)
{
    // å˜ä¾¡ãŒ0ã®å ´åˆã®ç‰¹æ®Šå‡¦ç†
    decimal unitPrice = detail.UnitPrice;
    if (unitPrice == 0 && detail.Amount != 0 && detail.Quantity != 0)
    {
        unitPrice = Math.Round(detail.Amount / detail.Quantity, 4);
    }
    
    // ä¾‹å¤–å‡¦ç†ï¼šå•†å“åˆ†é¡5ãŒ99999ã®å ´åˆ
    if (detail.ProductClassification5 == "99999")
    {
        return 0;
    }
    
    // ç²—åˆ©è¨ˆç®—
    return Math.Round((unitPrice - inventoryUnitPrice) * detail.Quantity, 2);
}

// æ­©å¼•ãé‡‘è¨ˆç®—
public decimal CalculateWalkingAmount(decimal salesAmount, decimal walkingRate)
{
    return Math.Round(salesAmount * walkingRate / 100, 0);
}

// å¥¨åŠ±é‡‘è¨ˆç®—ï¼ˆä»•å…¥å…ˆåˆ†é¡1='01'ã®ã¿ï¼‰
public decimal CalculateIncentive(decimal purchaseAmount, string supplierClass1)
{
    if (supplierClass1 == "01")
    {
        return Math.Round(purchaseAmount * 0.01M, 0);
    }
    return 0;
}
```

### å£²ä¸Šä¼ç¥¨ã¸ã®æ›¸ãè¾¼ã¿

```csharp
// æ±ç”¨æ•°å€¤1ï¼ˆ126åˆ—ç›®ï¼‰ï¼šæ˜ç´°è¡Œã”ã¨ã®ç²—åˆ©ç›Š
salesVoucher.GenericNumeric1 = grossProfit;

// æ±ç”¨æ•°å€¤2ï¼ˆ127åˆ—ç›®ï¼‰ï¼šè¨ˆç®—ã—ãŸæ­©å¼•ãé‡‘
salesVoucher.GenericNumeric2 = walkingAmount;
```

### ç¬¬2æ®µéšï¼šèª¿æ•´å¾Œç²—åˆ©è¨ˆç®—

```csharp
// CPåœ¨åº«ãƒã‚¹ã‚¿ã§ã®é›†è¨ˆ
èª¿æ•´å¾Œç²—åˆ©ç›Š = å½“æ—¥ç²—åˆ©ç›Š - å½“æ—¥åœ¨åº«èª¿æ•´é‡‘é¡ - å½“æ—¥åŠ å·¥è²»
```

## ğŸ“Š å•†å“æ—¥å ±ï¼ˆdaily-reportï¼‰

### ä»•æ§˜
- **ç”¨ç´™**: A3æ¨ªå‘ãï¼ˆ420mm Ã— 297mmï¼‰
- **ãƒ•ã‚©ãƒ³ãƒˆ**: ï¼­ï¼³ ã‚´ã‚·ãƒƒã‚¯
- **æ§‹æˆ**: æ—¥è¨ˆã¨æœˆè¨ˆã‚’å·¦å³ã«ä¸¦åˆ—è¡¨ç¤º
- **Process 2-5**: è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â€» YYYYå¹´MMæœˆDDæ—¥ å•† å“ æ—¥ å ± â€»

å•†å“å | å£²ä¸Šæ•°é‡ | å£²ä¸Šé‡‘é¡ | ä»•å…¥å€¤å¼• | åœ¨åº«èª¿æ•´ | åŠ å·¥è²» | æŒ¯æ›¿ | å¥¨åŠ±é‡‘ | ï¼‘ç²—åˆ©ç›Š | ï¼‘ç²—åˆ©ç‡ | ï¼’ç²—åˆ©ç›Š | ï¼’ç²—åˆ©ç‡ || æœˆè¨ˆå£²ä¸Š | æœˆï¼‘ç²—åˆ© | æœˆï¼‘ç‡ | æœˆï¼’ç²—åˆ© | æœˆï¼’ç‡
```

### ç‰¹æ®Šè¡¨ç¤ºï¼ˆè² ã®å€¤ï¼‰

```csharp
// å•†å“æ—¥å ±ã®ã¿ï¼šè² ã®å€¤ã¯â–²ã‚’å³å´ã«è¡¨ç¤º
public string FormatNegativeValue(decimal value)
{
    if (value < 0)
    {
        return $"{Math.Abs(value):#,##0}â–²";
    }
    return value.ToString("#,##0");
}
```

### å‡¦ç†å®Ÿè£…

```csharp
public async Task<byte[]> GenerateDailyReportAsync(DateTime jobDate)
{
    // 1. Process 2-5ã‚’è‡ªå‹•å®Ÿè¡Œ
    await _process25Service.ExecuteAsync(jobDate);
    
    // 2. CPåœ¨åº«ãƒã‚¹ã‚¿ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
    var cpInventoryData = await _cpInventoryRepository.GetByJobDateAsync(jobDate);
    
    // 3. å•†å“åˆ†é¡1ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
    var groupedData = cpInventoryData
        .GroupBy(x => x.ProductClassification1)
        .OrderBy(g => g.Key);
    
    // 4. FastReportã§PDFç”Ÿæˆ
    return await GeneratePdfAsync(groupedData, jobDate);
}
```

## ğŸ“‹ å•†å“å‹˜å®šï¼ˆproduct-accountï¼‰

### ä»•æ§˜
- **ç”¨ç´™**: A3æ¨ªå‘ãï¼ˆ420mm Ã— 297mmï¼‰
- **ç›®çš„**: å•†å“åˆ¥ã®ä»•å…¥ãƒ»å£²ä¸Šãƒ»åœ¨åº«ã®å‹•ãã‚’ä¸€è¦§è¡¨ç¤º
- **é‡è¦**: CPåœ¨åº«ãƒã‚¹ã‚¿ã‚’ã“ã“ã§åˆã‚ã¦ä½œæˆ

### CPåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆå‡¦ç†

```csharp
public async Task<byte[]> GenerateProductAccountAsync(DateTime jobDate)
{
    // 1. æ—¢å­˜CPåœ¨åº«ãƒã‚¹ã‚¿ã‚’å‰Šé™¤
    await _cpInventoryRepository.TruncateAsync();
    
    // 2. åœ¨åº«ãƒã‚¹ã‚¿ã‹ã‚‰CPåœ¨åº«ãƒã‚¹ã‚¿ã¸ã‚³ãƒ”ãƒ¼
    await ExecuteStoredProcedureAsync("sp_CreateCpInventoryFromInventoryMaster", 
        new { JobDate = jobDate });
    
    // 3. CPåœ¨åº«ãƒã‚¹ã‚¿ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
    var cpInventoryData = await _cpInventoryRepository.GetAllAsync();
    
    // 4. ç§»å‹•å¹³å‡æ³•ã«ã‚ˆã‚‹åœ¨åº«å˜ä¾¡è¨ˆç®—
    foreach (var item in cpInventoryData)
    {
        item.CurrentInventoryUnitPrice = CalculateMovingAveragePrice(
            item.PreviousQuantity, 
            item.PreviousAmount,
            item.IncomingQuantity, 
            item.IncomingAmount);
    }
    
    // 5. å¸³ç¥¨ä½œæˆ
    return await GeneratePdfAsync(cpInventoryData, jobDate);
}
```

### ç§»å‹•å¹³å‡æ³•ã«ã‚ˆã‚‹åœ¨åº«å˜ä¾¡è¨ˆç®—

```csharp
public decimal CalculateMovingAveragePrice(
    decimal previousQty, decimal previousAmount,
    decimal incomingQty, decimal incomingAmount)
{
    decimal totalQty = previousQty + incomingQty;
    
    // 0é™¤ç®—å¯¾ç­–
    if (totalQty == 0) return 0;
    
    decimal totalAmount = previousAmount + incomingAmount;
    return Math.Round(totalAmount / totalQty, 4, MidpointRounding.AwayFromZero);
}
```

## ğŸ“ˆ åœ¨åº«è¡¨ï¼ˆinventory-listï¼‰

### ä»•æ§˜
- **ç”¨ç´™**: A4ç¸¦å‘ã
- **ç›®çš„**: ç¾åœ¨ã®åœ¨åº«çŠ¶æ³ã‚’æ‹…å½“è€…åˆ¥ãƒ»å•†å“åˆ¥ã«è¡¨ç¤º
- **ç‰¹å¾´**: æ»ç•™è­¦å‘Šãƒãƒ¼ã‚¯è¡¨ç¤º

### æ»ç•™è­¦å‘Šãƒãƒ¼ã‚¯

```csharp
public string GetStagnationMark(DateTime lastReceiptDate, DateTime currentDate)
{
    int days = (currentDate - lastReceiptDate).Days;
    
    if (days >= 31) return "!!!";
    if (days >= 21) return "!!";
    if (days >= 11) return "!";
    return "";
}
```

### å‡¦ç†å®Ÿè£…

```csharp
public async Task<byte[]> GenerateInventoryListAsync(DateTime jobDate)
{
    // CPåœ¨åº«ãƒã‚¹ã‚¿ã‹ã‚‰ç›´æ¥ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆå•†å“å‹˜å®šã§ä½œæˆæ¸ˆã¿ï¼‰
    var cpInventoryData = await _cpInventoryRepository.GetAllAsync();
    
    if (!cpInventoryData.Any())
    {
        throw new InvalidOperationException(
            "CPåœ¨åº«ãƒã‚¹ã‚¿ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚å…ˆã«å•†å“å‹˜å®šã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚");
    }
    
    // æ‹…å½“è€…ãƒ»å•†å“ã§ã‚½ãƒ¼ãƒˆ
    var sortedData = cpInventoryData
        .Where(x => x.PreviousDayQuantity > 0)  // å‰æ—¥åœ¨åº«0ã¯é™¤å¤–
        .OrderBy(x => x.PersonInCharge)
        .ThenBy(x => x.ProductCode);
    
    return await GeneratePdfAsync(sortedData, jobDate);
}
```

## ğŸ“Š å–¶æ¥­æ—¥å ±ï¼ˆbusiness-daily-reportï¼‰

### ä»•æ§˜
- **ç”¨ç´™**: A3æ¨ªå‘ãï¼ˆ420mm Ã— 297mmï¼‰
- **ãƒšãƒ¼ã‚¸æ•°**: 3ãƒšãƒ¼ã‚¸ï¼ˆåˆ†é¡01-08ã€09-17ã€18-26ï¼‰
- **ç‰¹å¾´**: å¾—æ„å…ˆåˆ†é¡1ãƒ»ä»•å…¥å…ˆåˆ†é¡1åˆ¥ã®å£²ä¸Šä»•å…¥é›†è¨ˆ

### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 

```sql
CREATE TABLE BusinessDailyReport (
    ClassificationCode NVARCHAR(3) NOT NULL PRIMARY KEY,
    CustomerClassName NVARCHAR(12),
    SupplierClassName NVARCHAR(12),
    
    -- æ—¥è¨ˆé …ç›®ï¼ˆ16é …ç›®ï¼‰
    DailyCashSales DECIMAL(19,2),
    DailyCashSalesTax DECIMAL(19,2),
    DailyCreditSales DECIMAL(19,2),
    DailySalesDiscount DECIMAL(19,2),
    DailyCreditSalesTax DECIMAL(19,2),
    DailyCashPurchase DECIMAL(19,2),
    DailyCashPurchaseTax DECIMAL(19,2),
    DailyCreditPurchase DECIMAL(19,2),
    DailyPurchaseDiscount DECIMAL(19,2),
    DailyCreditPurchaseTax DECIMAL(19,2),
    DailyCashReceipt DECIMAL(19,2),
    DailyBankReceipt DECIMAL(19,2),
    DailyOtherReceipt DECIMAL(19,2),
    DailyCashPayment DECIMAL(19,2),
    DailyBankPayment DECIMAL(19,2),
    DailyOtherPayment DECIMAL(19,2)
    -- æœˆè¨ˆãƒ»å¹´è¨ˆã‚‚åŒã˜æ§‹é€ 
);
```

### é›†è¨ˆãƒ«ãƒ¼ãƒ«ï¼ˆä¼ç¥¨ç¨®Ã—æ˜ç´°ç¨®ï¼‰

```csharp
// å£²ä¸Šä¼ç¥¨ã®é›†è¨ˆ
Dictionary<(int voucherType, int detailType), string> salesMapping = new()
{
    { (52, 1), "DailyCashSales" },     // ç¾é‡‘å£²ä¸Š
    { (52, 2), "DailyCashSales" },
    { (52, 3), "DailyCashSales" },
    { (52, 4), "DailyCashSales" },
    { (52, 18), "DailyCashSalesTax" }, // ç¾å£²æ¶ˆè²»ç¨
    { (51, 1), "DailyCreditSales" },   // æ›å£²ä¸Š
    { (51, 2), "DailyCreditSales" },   // å£²ä¸Šè¿”å“
    { (51, 3), "DailySalesDiscount" }, // å£²ä¸Šå€¤å¼•
    { (51, 4), "DailySalesDiscount" },
    { (51, 18), "DailyCreditSalesTax" } // æ›å£²æ¶ˆè²»ç¨
};
```

## ğŸ–¨ï¸ FastReport.NETå®Ÿè£…

### åŸºæœ¬è¨­å®š

```csharp
#if WINDOWS
public class FastReportService : IReportService
{
    public async Task<byte[]> GenerateReportAsync(string templateName, object data)
    {
        using var report = new Report();
        report.Load($"Templates/{templateName}.frx");
        report.RegisterData(data, "ReportData");
        report.Prepare();
        
        using var ms = new MemoryStream();
        using var pdfExport = new PDFExport();
        report.Export(pdfExport, ms);
        
        return ms.ToArray();
    }
}
#else
public class PlaceholderReportService : IReportService
{
    public async Task<byte[]> GenerateReportAsync(string templateName, object data)
    {
        throw new PlatformNotSupportedException("FastReportã¯Windowsç’°å¢ƒã§ã®ã¿åˆ©ç”¨å¯èƒ½");
    }
}
#endif
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

| å¸³ç¥¨å | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ« | ã‚µã‚¤ã‚º |
|-------|-------------------|--------|
| ã‚¢ãƒ³ãƒãƒƒãƒãƒªã‚¹ãƒˆ | UnmatchListReport.frx | A3æ¨ª |
| å•†å“æ—¥å ± | DailyReport.frx | A3æ¨ª |
| å•†å“å‹˜å®š | ProductAccount.frx | A3æ¨ª |
| åœ¨åº«è¡¨ | InventoryList.frx | A4ç¸¦ |
| å–¶æ¥­æ—¥å ± | BusinessDailyReport.frx | A3æ¨ª |

## ğŸ”§ å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### IReportServiceï¼ˆå¸³ç¥¨åŸºåº•ï¼‰

```csharp
public interface IReportService
{
    Task<ReportResult> GenerateAsync(DateTime jobDate, string dataSetId = null);
    Task<ValidationResult> ValidateDataAsync(DateTime jobDate);
    string GetReportName();
}
```

### IInventoryCalculatorï¼ˆåœ¨åº«è¨ˆç®—ï¼‰

```csharp
public interface IInventoryCalculator
{
    decimal CalculateMovingAveragePrice(
        decimal previousQty, decimal previousAmount,
        decimal incomingQty, decimal incomingAmount);
    
    GrossProfitResult CalculateGrossProfit(
        decimal salesPrice, decimal inventoryPrice,
        decimal quantity, decimal discountRate);
}
```

### ICsvImportServiceï¼ˆCSVå–è¾¼ï¼‰

```csharp
public interface ICsvImportService<T>
{
    Task<ImportResult> ImportAsync(string filePath, DateTime? jobDate = null);
    Task<ValidationResult> ValidateAsync(T entity);
    string GetEntityName();
}
```

## ğŸƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒãƒƒãƒå‡¦ç†

```csharp
// 1000ä»¶å˜ä½ã§ãƒãƒƒãƒå‡¦ç†
const int BATCH_SIZE = 1000;

public async Task ProcessLargeDataAsync<T>(IEnumerable<T> data, Func<T, Task> processor)
{
    var batches = data.Chunk(BATCH_SIZE);
    
    foreach (var batch in batches)
    {
        using var transaction = await _connection.BeginTransactionAsync();
        try
        {
            foreach (var item in batch)
            {
                await processor(item);
            }
            await transaction.CommitAsync();
        }
        catch
        {
            await transaction.RollbackAsync();
            throw;
        }
    }
}
```

### SqlBulkCopyä½¿ç”¨

```csharp
public async Task BulkInsertAsync<T>(IEnumerable<T> data, string tableName)
{
    var dataTable = ConvertToDataTable(data);
    
    using var bulkCopy = new SqlBulkCopy(_connectionString)
    {
        DestinationTableName = tableName,
        BatchSize = 10000,
        BulkCopyTimeout = 600
    };
    
    await bulkCopy.WriteToServerAsync(dataTable);
}
```

## ğŸ› ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 0é™¤ç®—å¯¾ç­–ï¼ˆå¿…é ˆï¼‰

```csharp
public decimal SafeDivide(decimal dividend, decimal divisor)
{
    if (divisor == 0) return 0;
    return Math.Round(dividend / divisor, 4, MidpointRounding.AwayFromZero);
}
```

### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†

```csharp
public async Task<T> ExecuteInTransactionAsync<T>(Func<Task<T>> operation)
{
    using var transaction = await _connection.BeginTransactionAsync();
    try
    {
        var result = await operation();
        await transaction.CommitAsync();
        return result;
    }
    catch (Exception ex)
    {
        await transaction.RollbackAsync();
        _logger.LogError(ex, "ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
        throw;
    }
}
```

## ğŸ“ SQLç®¡ç†

### ã‚¹ãƒˆã‚¢ãƒ‰ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£ä¸€è¦§

| ãƒ—ãƒ­ã‚·ãƒ¼ã‚¸ãƒ£å | ç”¨é€” | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
|---------------|------|-----------|
| sp_CreateUnInventoryMaster | UNåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆ | @JobDate |
| sp_CreateCpInventoryFromInventoryMaster | CPåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆ | @JobDate |
| sp_CalculateMovingAveragePrice | ç§»å‹•å¹³å‡å˜ä¾¡è¨ˆç®— | @JobDate |
| sp_UpdateGrossProfit | ç²—åˆ©ç›Šæ›´æ–° | @JobDate |
| sp_ClearDailyArea | å–¶æ¥­æ—¥å ±æ—¥è¨ˆã‚¯ãƒªã‚¢ | ãªã— |
| sp_DailyClosing | æ—¥æ¬¡çµ‚äº†å‡¦ç† | @JobDate |

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ

```sql
-- 5é …ç›®è¤‡åˆã‚­ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX IX_InventoryMaster_CompositeKey 
ON InventoryMaster(
    ProductCode, GradeCode, ClassCode, 
    ShippingMarkCode, ShippingMarkName
);

-- JobDateã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX IX_InventoryMaster_JobDate 
ON InventoryMaster(JobDate);

-- ä¼ç¥¨æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX IX_SalesVouchers_JobDate 
ON SalesVouchers(JobDate) INCLUDE (VoucherType, DetailType);
```

## âœ… å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1: åŸºç›¤æ§‹ç¯‰
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆï¼ˆ3ã¤ã®åœ¨åº«ãƒã‚¹ã‚¿ï¼‰
- [ ] CSVå–è¾¼åŸºç›¤å®Ÿè£…
- [ ] 5é …ç›®è¤‡åˆã‚­ãƒ¼ã®å‡¦ç†å®Ÿè£…
- [ ] JobDateå‡¦ç†ã®å®Ÿè£…

### Phase 2: å“è³ªãƒã‚§ãƒƒã‚¯
- [ ] UNåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆå‡¦ç†
- [ ] ã‚¢ãƒ³ãƒãƒƒãƒãƒªã‚¹ãƒˆæ©Ÿèƒ½
- [ ] ã‚¨ãƒ©ãƒ¼åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

### Phase 3: å¸³ç¥¨ä½œæˆ
- [ ] CPåœ¨åº«ãƒã‚¹ã‚¿ä½œæˆå‡¦ç†
- [ ] å•†å“å‹˜å®šå®Ÿè£…
- [ ] Process 2-5å®Ÿè£…
- [ ] å•†å“æ—¥å ±å®Ÿè£…
- [ ] åœ¨åº«è¡¨å®Ÿè£…
- [ ] å–¶æ¥­æ—¥å ±å®Ÿè£…

### Phase 4: æœ€é©åŒ–
- [ ] ãƒãƒƒãƒå‡¦ç†å®Ÿè£…
- [ ] ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] æ—¥æ¬¡çµ‚äº†å‡¦ç†å®Ÿè£…

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### CPåœ¨åº«ãƒã‚¹ã‚¿æœªä½œæˆã‚¨ãƒ©ãƒ¼
```sql
-- CPåœ¨åº«ãƒã‚¹ã‚¿ç¢ºèª
SELECT COUNT(*) FROM CpInventoryMaster;

-- å¯¾å‡¦ï¼šå•†å“å‹˜å®šã‚’å®Ÿè¡Œ
dotnet run -- product-account 2025-06-30
```

### ã‚¢ãƒ³ãƒãƒƒãƒé‡è¤‡è¡¨ç¤º
```sql
-- UNåœ¨åº«ãƒã‚¹ã‚¿ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯
SELECT ProductCode, GradeCode, ClassCode, 
       ShippingMarkCode, ShippingMarkName, COUNT(*)
FROM UnInventoryMaster
GROUP BY ProductCode, GradeCode, ClassCode, 
         ShippingMarkCode, ShippingMarkName
HAVING COUNT(*) > 1;
```

### Process 2-5ã‚¨ãƒ©ãƒ¼
```sql
-- å£²ä¸Šä¼ç¥¨ã®ç²—åˆ©ç¢ºèª
SELECT VoucherNumber, ProductCode, 
       GenericNumeric1 as GrossProfit,
       GenericNumeric2 as WalkingAmount
FROM SalesVouchers
WHERE JobDate = '2025-06-30'
  AND GenericNumeric1 IS NULL;
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿é‡ã®ç›®å®‰

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | æ—¥æ¬¡ä»¶æ•° | å¹´é–“ç´¯è¨ˆ |
|-----------|---------|----------|
| å£²ä¸Šä¼ç¥¨ | 500-1,200ä»¶ | ç´„30ä¸‡ä»¶ |
| ä»•å…¥ä¼ç¥¨ | 200-400ä»¶ | ç´„10ä¸‡ä»¶ |
| åœ¨åº«ãƒã‚¹ã‚¿ | 100-200ä»¶ | ç´„1ä¸‡ä»¶ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰ |
| CPåœ¨åº«ãƒã‚¹ã‚¿ | 100-200ä»¶ | ä½¿ã„æ¨ã¦ |
| UNåœ¨åº«ãƒã‚¹ã‚¿ | 50-100ä»¶ | ä½¿ã„æ¨ã¦ |
| ã‚¢ãƒ³ãƒãƒƒãƒä»¶æ•° | 0-20ä»¶ | - |

## ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™

| å‡¦ç† | ç¾çŠ¶ | ç›®æ¨™ | å‚™è€ƒ |
|-----|------|------|------|
| å…¨ä½“å‡¦ç† | 3æ™‚é–“55åˆ† | 30åˆ†ä»¥å†… | 87%å‰Šæ¸› |
| CSVå–è¾¼ | 30åˆ† | 5åˆ†ä»¥å†… | - |
| ã‚¢ãƒ³ãƒãƒƒãƒ | 15åˆ† | 3åˆ†ä»¥å†… | - |
| å„å¸³ç¥¨ | 20åˆ† | 5åˆ†ä»¥å†… | - |
| æ—¥æ¬¡çµ‚äº† | 60åˆ† | 5åˆ†ä»¥å†… | - |

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

1. **FastReport.NETã¯çµ¶å¯¾ã«å‰Šé™¤ãƒ»ç½®æ›ã—ãªã„**
2. **JobDateã¯çµ¶å¯¾ã«æ”¹å¤‰ã—ãªã„**
3. **0é™¤ç®—å¯¾ç­–ã¯å…¨ã¦ã®è¨ˆç®—å‡¦ç†ã«å®Ÿè£…**
4. **è·å°åã¯8æ¡å›ºå®šï¼ˆä¼ç¥¨ã®æ‰‹å…¥åŠ›é …ç›®ã‹ã‚‰å–å¾—ï¼‰**
5. **UNåœ¨åº«ãƒã‚¹ã‚¿ã¨CPåœ¨åº«ãƒã‚¹ã‚¿ã¯ä½¿ã„æ¨ã¦ï¼ˆDataSetIDãªã—ï¼‰**
6. **å•†å“æ—¥å ±å®Ÿè¡Œæ™‚ã«Process 2-5ã‚’è‡ªå‹•å®Ÿè¡Œ**
7. **ãƒã‚¤ãƒŠã‚¹åœ¨åº«ã¯ã‚¨ãƒ©ãƒ¼ã¨ã—ãªã„**
8. **å•†å“ã‚³ãƒ¼ãƒ‰ã€Œ00000ã€ã¯å‡¦ç†ã—ãªã„**

---

**ã“ã®ä»•æ§˜æ›¸ã«åŸºã¥ã„ã¦ã€ä¸¦åˆ—å‡¦ç†å¯èƒ½ãªå½¢ã§å„æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚**